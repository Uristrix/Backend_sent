(this.webpackJsonpfrontendsent=this.webpackJsonpfrontendsent||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(13),s=a.n(c),r=a(9),i=a(27),l=a(3),o=new function e(){var t=this;Object(i.a)(this,e),this.data=null,this.load=!1,this.dt_box=!0,this.keywords_box=!0,this.rest_ent_box=!0,this.setData=function(e){t.data=e},this.updateLoad=function(){t.load=!t.load},this.updateDT=function(){t.dt_box=!t.dt_box},this.updateKeywords=function(){t.keywords_box=!t.keywords_box},this.updateEntities=function(){t.rest_ent_box=!t.rest_ent_box},Object(l.d)(this)},d=a(5),b=a(1),h=Object(r.a)((function(e){var t,a=function(e){for(var t=0;t<Object.keys(c[0].sentences[0]).length-1;t++)e+=" 2fr";return{gridTemplateColumns:e}},n=function(e){for(var t in e)if("text"!==t&&0!==e[t].length)return!0;return!1},c=Object(l.h)(e.appStore.data.data),s=Object(d.a)(c);try{for(s.s();!(t=s.n()).done;){var r,i=t.value,o=Object(d.a)(i.sentences);try{for(o.s();!(r=o.n()).done;){var h=r.value;e.appStore.dt_box||delete h["date/time"],e.appStore.keywords_box||delete h.keywords,e.appStore.rest_ent_box||delete h["rest entities"]}}catch(O){o.e(O)}finally{o.f()}}}catch(O){s.e(O)}finally{s.f()}var u,j=Object(d.a)(c);try{for(j.s();!(u=j.n()).done;)for(var x=u.value,p=0;p<x.sentences.length;p++)n(x.sentences[p])||x.sentences.splice(p,1)}catch(O){j.e(O)}finally{j.f()}if(c=c.filter((function(e){return 0!==e.sentences.length})),0!==c.length){var f=Object.keys(c[0]).concat(Object.keys(c[0].sentences[0])).slice(0,-1).map((function(e){return Object(b.jsx)("div",{className:"el bar",children:e})})),m=c.map((function(e){return Object(b.jsxs)("div",{className:"grid second",style:(t="2fr 1fr",{gridTemplateColumns:t+=" ".concat(3+2*(Object.keys(c[0].sentences[0]).length-1),"fr")}),children:[Object.keys(e).sort().slice(0,-1).map((function(t){return Object(b.jsx)("div",{className:"el",children:e[t].join(", ")})})),Object(b.jsx)("div",{children:e.sentences.map((function(e){return Object(b.jsxs)("div",{className:"sub",style:a("3fr"),children:[Object(b.jsx)("div",{className:"el",children:e.text.join(", ")}),Object.keys(e).slice(0,-1).map((function(t){return Object(b.jsx)("div",{className:"el",children:e[t].join(", ")})}))]})}))})]});var t}));return Object(b.jsx)("div",{className:"overflow",children:Object(b.jsxs)("div",{className:"table",style:{width:900+150*(Object.keys(c[0].sentences[0]).length-1)+"px"},children:[Object(b.jsx)("div",{className:"grid",style:a("2fr 1fr 3fr"),children:f}),Object(b.jsx)("div",{children:m})]})})}return Object(b.jsx)("div",{className:"info",children:"Sorry, such key phrases were not found in any sentence"})})),u=a(14),j=a(6),x=a(28),p=a(17),f=a.n(p),m=a(15),O=a.n(m),v=a.p+"static/media/def_value.ec85247c.txt",y="http://127.0.0.1:4500/",g=Object(r.a)((function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(["context_1"]),i=Object(j.a)(r,2),l=i[0],o=i[1],d=Object(x.a)({shouldUnregister:!0}),h=d.register,p=d.handleSubmit,m=d.setValue,g=d.formState.errors;Object(n.useEffect)((function(){fetch(v).then((function(e){return e.json().then((function(e){m("phrases",e.phrases),m("context_1",e.context),m("text",e.text),O.a.updateTextFields(),O.a.textareaAutoResize(document.getElementById("textarea2"))}))}))}),[]),Object(n.useEffect)((function(){var e=document.querySelectorAll(".has-character-counter");O.a.CharacterCounter.init(e)}));var N=function(e){return s(e)};return Object(b.jsxs)("form",{className:"form",onSubmit:p((function(t){c===y+"nlp/table"?(e.appStore.updateLoad(),f.a.post(c,t).then((function(t){e.appStore.setData(t.data),e.appStore.updateLoad(),N(y)})).catch((function(t){e.appStore.updateLoad(),N(y)}))):c===y+"nlp/xlsx"&&(e.appStore.updateLoad(),f.a.post(c,t,{responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=a,n.setAttribute("download","file.xlsx"),document.body.appendChild(n),n.click(),e.appStore.updateLoad(),N(y)})).catch((function(t){e.appStore.updateLoad(),N(y)})))})),children:[Object(b.jsx)("div",{className:"flex-area",children:Object(b.jsxs)("div",{className:"input-field inputs",children:[Object(b.jsx)("textarea",Object(u.a)({id:"textarea1",className:"materialize-textarea has-character-counter",style:{height:"70px"},"data-length":"100"},h("phrases",{required:!0,maxLength:100}))),Object(b.jsx)("label",{htmlFor:"textarea1",children:"\u041f\u043e\u0438\u0441\u043a \u0430\u0431\u0437\u0430\u0446\u0435\u0432: \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430"})]})}),l.map((function(e,t){return Object(b.jsxs)("div",{className:"flex-area animation",children:[Object(b.jsxs)("div",{className:"input-field inputs",children:[Object(b.jsx)("textarea",Object(u.a)({id:e,className:"materialize-textarea has-character-counter",style:{height:"70px"},"data-length":"100"},h(e,{required:!0,maxLength:100}))),Object(b.jsx)("label",{htmlFor:"textarea1",children:"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442: \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430"})]}),0===t&&Object(b.jsx)("button",{className:" add-phrases btn-floating btn-small waves-effect waves-light blue",onClick:function(){return l.push("context_"+(l.length+1)),void o(l)},children:Object(b.jsx)("i",{className:"material-icons",children:"add"})}),0!==t&&Object(b.jsx)("button",{className:" add-phrases btn-floating btn-small\r waves-effect waves-light blue",onClick:function(){return function(e){if(0!==l.length){for(var t=l.indexOf(e)+1,a=t;a<=l.length-1;a++){var n=document.getElementById("context_"+t),c=document.getElementById("context_"+(t+1));n.value=c.value}l.pop(),o(l)}}(e)},children:Object(b.jsx)("i",{className:"material-icons",children:"close"})})]})})),Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("textarea",Object(u.a)({id:"textarea2",className:"materialize-textarea has-character-counter",style:{height:"300px"},"data-length":"10000"},h("text",{required:!0,maxLength:1e4}))),Object(b.jsx)("label",{htmlFor:"textarea2",children:"\u0422\u0435\u043a\u0441\u0442"})]}),Object(b.jsxs)("div",{className:"accept",children:[Object(b.jsxs)("div",{className:"buttons",children:[Object(b.jsx)("button",{className:"btn btn-large waves-effect waves-light light-blue",type:"submit",onClick:function(){return N(y+"nlp/table")},children:"TABLE"}),Object(b.jsx)("button",{className:"btn btn-large waves-effect waves-light light-blue",type:"submit",onClick:function(){return N(y+"nlp/xlsx")},children:"XLSX"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",className:"filled-in checkbox",checked:e.appStore.dt_box,onChange:e.appStore.updateDT}),Object(b.jsx)("span",{children:"datetime"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",className:"filled-in checkbox",checked:e.appStore.keywords_box,onChange:e.appStore.updateKeywords}),Object(b.jsx)("span",{children:"keywords"})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",className:"filled-in checkbox",checked:e.appStore.rest_ent_box,onChange:e.appStore.updateEntities}),Object(b.jsx)("span",{children:"rest entities"})]})]}),g.exampleRequired&&Object(b.jsx)("span",{children:"Error((("})]})})),N=(a(53),Object(r.a)((function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"navbar-fixed",children:Object(b.jsx)("nav",{className:" nav-wrapper blue navbar_text",children:"Search for offers"})}),!0===o.load&&Object(b.jsx)("div",{className:"progress",style:{position:"fixed"},children:Object(b.jsx)("div",{className:"indeterminate",children:" "})}),Object(b.jsx)(g,{appStore:o}),null!==o.data&&Object(b.jsx)(h,{appStore:o})]})})));s.a.render(Object(b.jsx)(N,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.e44fbf98.chunk.js.map